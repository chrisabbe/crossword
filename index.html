<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<meta name="description" content="Daily Crossword â€” Around the House. Mobile-optimized grid with auto-save and clear answers.">
<title>Daily Crossword â€” Around the House</title>
<style>
  :root{
    --teal:#1f9dbf; --gold:#f5b041; --bg:#faf9f6; --card:#ffffff;
    --thin:#ddd; --gold-shade:#faf1de; --num:#333; --num-stroke:#fff;
    --error:#ffcccc; --max-grid:700px;
  }
  html,body{
    margin:0;padding:0;background:var(--bg);
    font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;
    -webkit-font-smoothing:antialiased;
    display:flex;justify-content:center;
  }
  .wrap{width:100%;max-width:980px;padding:18px;box-sizing:border-box;display:flex;justify-content:center}
  .card{width:100%;max-width:860px;background:var(--card);border-radius:12px;padding:16px;box-shadow:0 8px 20px rgba(0,0,0,.06);box-sizing:border-box}
  .title{color:var(--teal);text-align:center;margin:0;font-size:clamp(1.05rem,3.6vw,1.6rem);font-weight:700}
  .subtitle{color:#333;text-align:center;margin:6px 0 2px;font-weight:600}
  .instructions{color:#666;text-align:center;margin:0 0 12px;font-size:0.95rem;font-style:italic}
  .edit-note{color:#777;text-align:center;margin:0 0 8px;font-size:0.9rem}

  .grid-wrap{display:flex;justify-content:center;margin:10px 0}
  .crossword{
    display:grid; gap:6px; width:min(var(--max-grid), 95vw); max-width:var(--max-grid);
    padding:8px; box-sizing:border-box;
    grid-template-columns: repeat(15, 1fr);
  }
  .cell{
    position:relative; aspect-ratio:1/1; display:flex; align-items:center; justify-content:center;
    background:var(--card); border:1px solid var(--thin); box-sizing:border-box; font-family:monospace;
    overflow:hidden;
  }
  .cell.block{ background:var(--gold-shade); border-color:var(--thin) }
  .num{
    position:absolute; top:4px; left:6px; font-size:16px; font-weight:800; color:var(--num);
    user-select:none; cursor:pointer;
    text-shadow: -1px -1px 0 var(--num-stroke), 1px -1px 0 var(--num-stroke),
                 -1px  1px 0 var(--num-stroke), 1px  1px 0 var(--num-stroke);
  }
  .cell input{
    width:100%;
    height:100%;
    font-size:clamp(18px,3.5vw,28px);
    text-transform:uppercase;
    text-align:center;
    border:none;
    outline:none;
    border-radius:0;
    background:transparent;
    font-weight:700;
    font-family:monospace;
    line-height:1;
    transform:scale(0.95);
  }
  .cell input:focus{background:#e8f8fb}
  .controls{ display:flex;justify-content:center;gap:10px;margin-top:12px;flex-wrap:wrap }
  button{ padding:10px 14px;border-radius:8px;border:none;cursor:pointer;font-weight:700 }
  .btn-gold{ background:var(--gold); color:#222 }
  .btn-teal{ background:var(--teal); color:#fff }

  .clues{ margin-top:16px; display:flex; gap:18px; flex-direction:column }
  @media(min-width:900px){ .clues{ flex-direction:row } }
  .clue-col{ flex:1 }
  .clue-col h4{ margin:0 0 6px 0; color:var(--teal) }
  .clue{ margin:6px 0; color:#222; white-space:pre-wrap; line-height:1.4 }

  .toast{
    position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
    background:var(--teal); color:#fff; padding:10px 14px; border-radius:10px;
    font-weight:700; box-shadow:0 8px 18px rgba(0,0,0,.15); opacity:0; pointer-events:none;
    transition:opacity .25s ease, transform .25s ease;
    z-index:9999;
  }
  .toast.show{ opacity:1; transform:translateX(-50%) translateY(-4px); }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="main" aria-labelledby="title">
      <h1 id="title" class="title">Daily Crossword</h1>
      <div class="subtitle">Around the House</div>
      <div class="instructions">Type letters into the boxes. Progress saves automatically.</div>
      <div id="editNote" class="edit-note" style="display:none;">Edit mode: numbering changes are active.</div>

      <div class="grid-wrap">
        <div id="grid" class="crossword" role="grid" aria-label="Crossword grid"></div>
      </div>

      <div class="controls" id="controlsRow">
        <button id="clearBtn" class="btn-gold">ðŸ”„ Clear My Answers</button>
        <button id="resetNumsBtn" class="btn-teal" style="display:none;">Reset Numbering</button>
      </div>

      <div class="clues" aria-label="Crossword clues">
        <div class="clue-col">
          <h4>Across</h4>
          <div class="clue">3. Light switch locale
4. Handle on a door</div>
        </div>
        <div class="clue-col">
          <h4>Down</h4>
          <div class="clue">1. Cozy TV companion
2. Not dirty
4. Where the cook stirs things up
5. Bedroom furniture for rest</div>
        </div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast">âœ… Your previous progress has been restored.</div>

<script>
const isEmbedded = (()=>{try{return window.self!==window.top}catch(_){return true}})();
const PUZ_ID='daily-xwd-15x15-v2';
const ANSWERS_KEY=PUZ_ID+':answers',NUMBERS_KEY=PUZ_ID+':numbers',CLEAR_FLAG=PUZ_ID+':cleared';
function readWN(){try{return JSON.parse(window.name||'{}')}catch(_){return{}}}
function writeWN(o){try{window.name=JSON.stringify(o||{})}catch(_){}}function saveData(k,v){if(isEmbedded){const w=readWN();w[k]=v;writeWN(w)}else{localStorage.setItem(k,JSON.stringify(v))}}function loadData(k){if(isEmbedded){return readWN()[k]||null}else{try{const v=localStorage.getItem(k);return v?JSON.parse(v):null}catch(_){return null}}}function clearData(k){if(isEmbedded){const w=readWN();delete w[k];writeWN(w)}else{localStorage.removeItem(k)}}
function setCookie(n,v,d){const x=new Date();x.setTime(x.getTime()+d*864e5);document.cookie=n+'='+encodeURIComponent(v)+';expires='+x.toUTCString()+';path=/'}function getCookie(n){const m=document.cookie.match(new RegExp('(^|; )'+n+'=([^;]*)'));return m?decodeURIComponent(m[2]):''}

const ROWS=15,COLS=15,centerR0=1,centerC0=4;
const test13x6=[["#","","#","#","#","#"],["#","","#","#","#","#"],["#","","#","","#","#"],["","","","","#","#"],["#","#","#","","#","#"],["#","#","#","","#","#"],["#","#","","","",""],["#","#","","#","#",""],["#","#","","#","#",""],["#","#","","#","#","#"],["#","#","","#","#","#"],["#","#","","#","#","#"],["#","#","","#","#","#"]];
const TEMPLATE=Array.from({length:ROWS},()=>Array(COLS).fill("#"));
for(let r=0;r<test13x6.length;r++)for(let c=0;c<test13x6[0].length;c++)TEMPLATE[centerR0+r][centerC0+c]=test13x6[r][c]==="#"?"#":"";
function autoNumbers(){const n=Array.from({length:ROWS},()=>Array(COLS).fill(0));let k=1;for(let r=0;r<ROWS;r++)for(let c=0;c<COLS;c++){if(TEMPLATE[r][c]==="#")continue;const L=c===0||TEMPLATE[r][c-1]==="#",T=r===0||TEMPLATE[r-1]?.[c]==="#";if(L||T)n[r][c]=k++}return n}
function loadNumbers(){const s=loadData(NUMBERS_KEY);return s&&Array.isArray(s)&&s.length===ROWS?s:autoNumbers()}
const gridEl=document.getElementById('grid'),toastEl=document.getElementById('toast');
function buildGrid(){
  document.getElementById('editNote').style.display=isEmbedded?'none':'block';
  const resetBtn=document.getElementById('resetNumsBtn');
  resetBtn.style.display=isEmbedded?'none':'inline-block';
  gridEl.innerHTML='';gridEl.style.gridTemplateColumns=`repeat(${COLS},1fr)`;
  let numbers=loadNumbers();
  const isCleared=getCookie(CLEAR_FLAG)==='true';
  let saved={};if(!isCleared){const a=loadData(ANSWERS_KEY);if(a&&typeof a==='object')saved=a}
  for(let r=0;r<ROWS;r++)for(let c=0;c<COLS;c++){const val=TEMPLATE[r][c];const cell=document.createElement('div');cell.className='cell';
    if(val==="#"){cell.classList.add('block')}
    else{
      const lab=numbers[r][c]||0;
      if(lab){const n=document.createElement('div');n.className='num';n.textContent=lab;n.title='Tap to edit number';
        n.addEventListener('click',e=>{e.stopPropagation();const v=prompt('Set number (leave blank to remove):',String(numbers[r][c]||''));if(v===null)return;const nv=v.trim();numbers[r][c]=nv===''?0:(isFinite(parseInt(nv,10))?parseInt(nv,10):numbers[r][c]);saveData(NUMBERS_KEY,numbers);buildGrid()});cell.appendChild(n)}
      else cell.addEventListener('dblclick',()=>{const nv=prompt('Add number:','');if(nv&&isFinite(parseInt(nv,10))){numbers[r][c]=parseInt(nv,10);saveData(NUMBERS_KEY,numbers);buildGrid()}});

      const input=document.createElement('input');input.type='text';input.maxLength=1;input.autocomplete='off';input.inputMode='latin';input.setAttribute('aria-label',`Row ${r+1} Column ${c+1}`);const key=r+'-'+c;if(saved[key])input.value=saved[key];
      input.addEventListener('input',e=>{e.target.value=e.target.value.toUpperCase().replace(/[^A-Z]/g,'').slice(0,1);if(e.target.value)saved[key]=e.target.value;else delete saved[key];saveData(ANSWERS_KEY,saved);setCookie(CLEAR_FLAG,'false',7)});
      input.addEventListener('paste',ev=>{ev.preventDefault();const t=(ev.clipboardData||window.clipboardData).getData('text')||'';const ch=t.replace(/[^A-Za-z]/g,'').slice(0,1).toUpperCase();if(ch){input.value=ch;input.dispatchEvent(new Event('input'))}});
      cell.appendChild(input);
    }
    gridEl.appendChild(cell);
  }
  const hadProgress=saved&&Object.keys(saved).length>0;if(hadProgress){toastEl.classList.add('show');setTimeout(()=>toastEl.classList.remove('show'),3000)}
  resetBtn.onclick=()=>{clearData(NUMBERS_KEY);buildGrid()}
}
document.getElementById('clearBtn').addEventListener('click',()=>{gridEl.querySelectorAll('input').forEach(i=>i.value='');clearData(ANSWERS_KEY);setCookie(CLEAR_FLAG,'true',7)});
buildGrid();
</script>
</body>
</html>
